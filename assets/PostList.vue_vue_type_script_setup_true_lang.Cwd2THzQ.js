import{x as y,f,N as a,O as t,z as _,K as $,V as d,F as k,W as w,Q as g,P as m,R as C,X as L,M as o,L as P}from"./framework.L05pX_B4.js";import{u as S,h as T}from"./app.vnYM05Hi.js";import"./chunks/dayjs.Byk5cVHE.js";const N={class:"mx-auto max-w-lg mb-4"},R={role:"navigation","aria-label":"pagination"},V={class:"buttons gap-2 flex justify-between"},j={key:0},B={key:1},D={class:"hidden md:contents"},M={class:"contents md:hidden"},A={class:"text-center"},F={key:0},H={key:1},E=y({__name:"Pagination",props:{curPage:{},total:{},pageSize:{}},emits:["pageChange"],setup(h,{emit:c}){const e=h,r=c,n=f(()=>Math.ceil(e.total/e.pageSize)),u=f(()=>e.curPage===1||e.curPage===n.value?3:2);function b(s){return s===1||s===n.value?!0:s>e.curPage-u.value&&s<e.curPage+u.value}function p(s){return r("pageChange",s),s===1?"/":`/page/${s}`}return(s,i)=>{const v=$("RouterLink");return o(),a("div",N,[t("nav",R,[t("div",V,[t("ul",null,[s.curPage!==1?(o(),a("li",j,[_(v,{to:p(s.curPage-1),class:"button","aria-label":"To previous page"},{default:d(()=>i[0]||(i[0]=[t("div",{class:"i-ic-baseline-arrow-back"},null,-1)])),_:1},8,["to"])])):(o(),a("li",B,i[1]||(i[1]=[t("button",{class:"button",disabled:"","aria-label":"To previous page"},[t("div",{class:"i-ic-baseline-arrow-back"})],-1)])))]),(o(!0),a(k,null,w(n.value,l=>(o(),a("ul",D,[b(l)?(o(),a("li",{key:l},[_(v,{"aria-label":"To page",to:p(l),class:L(["button",s.curPage===l&&"is-link"])},{default:d(()=>[C(g(l),1)]),_:2},1032,["to","class"])])):l===s.curPage-u.value?(o(),a("li",{class:"mx-4",key:`prev-space-${l}`}," ... ")):l===s.curPage+u.value?(o(),a("li",{class:"mx-4",key:`next-space-${l}`}," ... ")):m("v-if",!0)]))),256)),t("span",M,[t("p",A,g(s.curPage)+" / "+g(n.value),1)]),t("ul",null,[s.curPage!==n.value?(o(),a("li",F,[_(v,{to:p(s.curPage+1),class:"button","aria-label":"To next page"},{default:d(()=>i[2]||(i[2]=[t("div",{class:"i-ic-baseline-arrow-forward"},null,-1)])),_:1},8,["to"])])):(o(),a("li",H,i[3]||(i[3]=[t("button",{class:"button",disabled:"","aria-label":"To next page"},[t("div",{class:"i-ic-baseline-arrow-forward"})],-1)])))])])])])}}}),K={class:"card"},O={class:"card-image"},Q={class:"h-80 relative"},W=["src"],X={class:"card-content"},q={class:"text-2xl mb-2"},G=["innerHTML"],I={class:"grid grid-cols-3"},J={class:"text-left col-span-2"},U={class:"text-right"},Y=y({__name:"PostCard",props:{post:{}},setup(h){const c=e=>{const r={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("zh-CN",r)};return(e,r)=>{const n=$("RouterLink");return o(),a("div",K,[e.post.path&&e.post.cover?(o(),P(n,{key:0,to:e.post.path},{default:d(()=>[t("div",O,[t("figure",Q,[t("img",{class:"absolute top-0 left-0 w-full h-full object-cover",loading:"lazy",src:e.post.cover,alt:"Post cover image"},null,8,W)])])]),_:1},8,["to"])):m("v-if",!0),t("div",X,[e.post.path?(o(),P(n,{key:0,to:e.post.path},{default:d(()=>[t("p",q,g(e.post.title),1)]),_:1},8,["to"])):m("v-if",!0),e.post.excerpt?(o(),a("div",{key:1,class:"content",innerHTML:e.post.excerpt},null,8,G)):m("v-if",!0),r[1]||(r[1]=t("hr",null,null,-1)),t("div",I,[t("p",J,g(c(e.post.date))+" • "+g(Array.isArray(e.post.categories)?e.post.categories.flat().join(", "):e.post.categories??"未分类"),1),t("p",U,[e.post.path?(o(),P(n,{key:0,to:e.post.path},{default:d(()=>r[0]||(r[0]=[C(" 阅读全文 ")])),_:1},8,["to"])):m("v-if",!0)])])])])}}}),Z={class:"space-y-4"},se=y({__name:"PostList",props:{type:{},posts:{},curPage:{default:1}},setup(h){const c=h,e=S(),r=T(),n=f(()=>r.value.pageSize),u=f(()=>(c.posts||e.postList).filter(p=>!p.hide)),b=f(()=>u.value.slice((c.curPage-1)*n.value,c.curPage*n.value));return(p,s)=>{const i=Y,v=E;return o(),a(k,null,[t("ul",Z,[(o(!0),a(k,null,w(b.value,(l,z)=>(o(),a("li",{key:l.path,class:L({"mb-0":z===u.value.length-1})},[_(i,{post:l},null,8,["post"])],2))),128))]),s[0]||(s[0]=t("br",null,null,-1)),_(v,{"cur-page":p.curPage,"page-size":n.value,total:u.value.length},null,8,["cur-page","page-size","total"])],64)}}});export{se as _};
