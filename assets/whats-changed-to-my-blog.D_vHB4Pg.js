import{_ as g}from"./ValaxyMain.vue_vue_type_script_setup_true_lang.C4IQvKeS.js";import{f as b,a as y}from"./chunks/vue-router.BtQ_wPHK.js";import{B as d,L as v,V as a,U as o,O as e,P as V,R as n,u as $,M as k}from"./framework.L05pX_B4.js";import"./app.vnYM05Hi.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/pinia.FHX2qeeH.js";import"./chunks/nprogress.9Rc4pbW8.js";import"./chunks/vue-i18n.BaoZu0H5.js";import"./content.-VZPwud3.js";const C=b("/posts/whats-changed-to-my-blog",async s=>JSON.parse('{"title":"为了纯粹的快——来看看我对我的博客做了什么","description":"","frontmatter":{"layout":"post","title":"为了纯粹的快——来看看我对我的博客做了什么","date":"2023-03-02 19:23:08","updated":"2023-03-02 19:23:08","tags":["速度","静态博客","优化"],"categories":"报告","excerpt_type":"text","cover":"https://blog-api.lihaoyu.cn/images/posts/whats-changed-to-my-blog/cover.webp"},"headers":[{"level":2,"title":"服务器与 CDN","slug":"服务器与-cdn","link":"#服务器与-cdn","children":[]},{"level":2,"title":"框架","slug":"框架","link":"#框架","children":[]},{"level":2,"title":"图床","slug":"图床","link":"#图床","children":[]}],"relativePath":"pages/posts/whats-changed-to-my-blog.md","lastUpdated":1744288229000}'),{lazy:(s,i)=>s.name===i.name}),T={__name:"whats-changed-to-my-blog",setup(s,{expose:i}){var p;const{data:m}=C(),u=y(),r=Object.assign(u.meta.frontmatter||{},((p=m.value)==null?void 0:p.frontmatter)||{});return u.meta.frontmatter=r,d("pageData",m.value),d("valaxy:frontmatter",r),globalThis.$frontmatter=r,i({frontmatter:{layout:"post",title:"为了纯粹的快——来看看我对我的博客做了什么",date:"2023-03-02 19:23:08",updated:"2023-03-02 19:23:08",tags:["速度","静态博客","优化"],categories:"报告",excerpt_type:"text",cover:"https://blog-api.lihaoyu.cn/images/posts/whats-changed-to-my-blog/cover.webp"}}),(l,t)=>{const f=g;return k(),v(f,{frontmatter:$(r)},{"main-content-md":a(()=>[t[0]||(t[0]=e("p",null,"只为了更快：性能与美观优先，这几个月我对我的博客做出了一些大的更改。",-1)),V(" more "),t[1]||(t[1]=e("h2",{id:"服务器与-cdn",tabindex:"-1"},[n("服务器与 CDN "),e("a",{class:"header-anchor",href:"#服务器与-cdn","aria-label":'Permalink to "服务器与 CDN"'},"​")],-1)),t[2]||(t[2]=e("p",null,"如果我不说的话，你可能很难相信我的博客使用的是 Cloudflare CDN。",-1)),t[3]||(t[3]=e("p",null,[n("几个月前，我将我的博客挂在了 Vercel 上，后来"),e("s",null,"异想天开"),n("想要加入 HSTS Preload List 时发现 Vercel 的响应头不好改（指必须修改 "),e("code",null,"vercel.json"),n("），于是索性把整个域名的 Name Server 换到了 Cloudflare 上，速度也没那么不堪。")],-1)),t[4]||(t[4]=e("p",null,"后来在对 Cloudflare Pages 进行博客加载性能测试时，DevTools 显示的加载完成时长明显比 Vercel 的时间短很多，因此我在上周将博客迁移到了 Cloudflare Pages 上。这样，因为没有了回源延迟，加载速度快了很多。",-1)),t[5]||(t[5]=e("p",null,"在十年之约与开往的 QQ 群中，我将博客的链接发了出来请求大家访问一下，以便获得足够的反馈。基本上大多数反馈给我的信息就是：第一次加载 3 到 5 秒内完成，最长 6 秒；第二次加载由于有了缓存，所以基本保持在 1 - 3 秒内加载完成。这说明目前的访问体验较博客初期好了很多。",-1)),t[6]||(t[6]=e("h2",{id:"框架",tabindex:"-1"},[n("框架 "),e("a",{class:"header-anchor",href:"#框架","aria-label":'Permalink to "框架"'},"​")],-1)),t[7]||(t[7]=e("p",null,[e("strong",null,"之前"),n("，我使用 Hexo 作为博客框架，使用 Yun 作为主题。")],-1)),t[8]||(t[8]=e("p",null,"Yun 主题的一个特点就是完全不需要依赖 jQuery，所有资源文件均使用公共 CDN，这从根本上加快了博客的加载速度，而我只需要解决图床的问题。",-1)),t[9]||(t[9]=e("p",null,"但是你可能会说：“以前？那现在呢？难道除了 Hexo 还有别的好用的静态博客生成器吗？”",-1)),t[10]||(t[10]=e("p",null,"是这样的。如果你把页面滚动到最底部，就可以在页脚上发现这样一行字：",-1)),t[11]||(t[11]=e("blockquote",null,[e("p",null,[n("由 "),e("a",{href:"https://github.com/YunYouJun/valaxy",target:"_blank",rel:"noreferrer"},"Valaxy"),n(" v0.14.15 驱动 | 主题 - "),e("a",{href:"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-theme-yun",target:"_blank",rel:"noreferrer"},"Yun"),n(" v0.14.15")])],-1)),t[12]||(t[12]=e("p",null,"我的博客现在使用 Valaxy 作为生成器，由于框架的开发使用的是 Vue 3、Vite 4、ESBuild，因此我的博客可以拥有优秀的页面切换体验、页面热更新、组件按需打包，同时可以任意使用 Vite 和 Vue 的插件。",-1)),t[13]||(t[13]=e("p",null,"Valaxy 的 Yun 主题也同样继承了 Hexo 版本的优良特性与功能，因此我没有花费太多精力就将博客迁移到了 Valaxy。",-1)),t[14]||(t[14]=e("figure",null,[e("img",{src:"https://blog-api.lihaoyu.cn/images/posts/whats-changed-to-my-blog/commit-info.webp",alt:"",loading:"lazy",decoding:"async"})],-1)),t[15]||(t[15]=e("h2",{id:"图床",tabindex:"-1"},[n("图床 "),e("a",{class:"header-anchor",href:"#图床","aria-label":'Permalink to "图床"'},"​")],-1)),t[16]||(t[16]=e("blockquote",null,[e("p",null,[e("a",{href:"https://blog-api.lihaoyu.cn",target:"_blank",rel:"noreferrer"},"晓雨’s Blog API")])],-1)),t[17]||(t[17]=e("p",null,"前几篇文章我一直使用的是 CSDN 和 米游社的图床，但是最终还是因为没有缓存的原因转向了自建。",-1)),t[18]||(t[18]=e("p",null,"目前的解决方案是使用 Vercel + Cloudflare 加载，也有以前的 Cloudflare R2 和 Backblaze B2 图床。",-1)),t[19]||(t[19]=e("p",null,"不过自建图床预计之后会长期使用。大概就是这样了吧。",-1))]),"main-header":a(()=>[o(l.$slots,"main-header")]),"main-header-after":a(()=>[o(l.$slots,"main-header-after")]),"main-nav":a(()=>[o(l.$slots,"main-nav")]),"main-content-before":a(()=>[o(l.$slots,"main-content-before")]),"main-content":a(()=>[o(l.$slots,"main-content")]),"main-content-after":a(()=>[o(l.$slots,"main-content-after")]),"main-nav-before":a(()=>[o(l.$slots,"main-nav-before")]),"main-nav-after":a(()=>[o(l.$slots,"main-nav-after")]),comment:a(()=>[o(l.$slots,"comment")]),footer:a(()=>[o(l.$slots,"footer")]),aside:a(()=>[o(l.$slots,"aside")]),"aside-custom":a(()=>[o(l.$slots,"aside-custom")]),default:a(()=>[o(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{T as default,C as usePageData};
