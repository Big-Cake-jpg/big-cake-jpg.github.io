name: telegram-posts
on: 
  workflow_dispatch:
  push:
    branches: 
      - source
    paths:
      - 'pages/posts/**'

jobs:
  sendMsg:
    name: Send Message
    runs-on: ubuntu-latest
    steps:
    - uses: colutius/Telegram-Msg@main
      with:
        token: ${{ secrets.TELEGRAM_TOKEN }}
        chatid: ${{ secrets.TELEGRAM_TO }}
        message: |
          ğŸ’¡ æ–°æ–‡ç« åœ¨åšå®¢å‘å¸ƒå•¦ï¼
          
          ğŸ‘¤ æäº¤äºº: ${{ github.event.commits[0].author.name }} (${{ github.event.commits[0].author.username }})

          ğŸ“„ æäº¤ä¿¡æ¯: ${{ github.event.commits[0].message }}

          âš ï¸ æ³¨æ„ï¼šç”±äº Service Worker ç¼“å­˜åŸå› ï¼Œè¯¥æ–‡ç« å¯èƒ½ä¸ä¼šç«‹åˆ»åœ¨åšå®¢ä¸Šæ˜¾ç¤ºã€‚æ‚¨å¯ä»¥ç¨åå†æ¥æŸ¥çœ‹ï¼Œæˆ–è€…æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ã€‚
        button: true
        button_name: ğŸ‘€ ç«‹å³æŸ¥çœ‹ ğŸ‘€
        button_url: https://lihaoyu.cn/
        is_notify: true
        is_preview: true
